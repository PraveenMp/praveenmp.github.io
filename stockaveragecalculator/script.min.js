const intlLanguage="Asia/Calcutta"===Intl.DateTimeFormat().resolvedOptions().timeZone?"en-IN":"en-US";function calculateProfit(){let e=parseFloat(document.getElementById("quantity").value),t=parseFloat(document.getElementById("buyPrice").value),n=parseFloat(document.getElementById("sellPrice").value),a=parseFloat(document.getElementById("sellQuantity").value);if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(a))return void(document.getElementById("stock-profit").innerHTML="");if(e<a)return document.getElementById("sell-quantity-error").classList.remove("hide"),void document.getElementById("sell-quantity-error").classList.add("show");document.getElementById("sell-quantity-error").classList.add("hide"),document.getElementById("sell-quantity-error").classList.remove("show");let o=n-t,l=o*a,d=e-a,r=d*n,i=e*n,c=a*n,u=e*t,s=l>=0?`<span class="text-success">Total Profit: ${o} * ${a} = ${l}</span>`:`<span class="text-danger">Total Loss: ${o} * ${a} = ${Math.abs(l)}</span>`,m=`\n    <table class="stock-profit-table table table-bordered table-striped mt-3">\n      <thead class="thead-light">\n        <tr>\n          <th>Description</th>\n          <th>Calculation</th>\n          <th>Value</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>Initial Purchase Value</td>\n          <td>${e} * ${t}</td>\n          <td><b>${u.toLocaleString(intlLanguage)}</b></td>\n        </tr>\n        <tr>\n          <td>Current Shares Value</td>\n          <td>${e} * ${n}</td>\n          <td><b>${i.toLocaleString(intlLanguage)}</b></td>\n        </tr>\n        <tr>\n          <td>Current Sale Value</td>\n          <td>${a} * ${n}</td>\n          <td><b>${c.toLocaleString(intlLanguage)}</b></td>\n        </tr>\n        <tr>\n          <td>Remaining Shares Value</td>\n          <td>${d} * ${n}</td>\n          <td><b>${r.toLocaleString(intlLanguage)}</b></td>\n        </tr>\n        <tr>\n          <td><b>Profit / Loss</b></td>\n          <td colspan="2"><b>${s}</b></td>\n        </tr>\n      </tbody>\n    </table>`;document.getElementById("stock-profit").innerHTML=m}function clearStockProfitFields(){document.getElementById("quantity").value="",document.getElementById("buyPrice").value="",document.getElementById("sellPrice").value="",document.getElementById("sellQuantity").value="",document.getElementById("result").innerText=""}function unitChanged(e,t){const n=document.getElementById("units1").value,a=document.getElementById("Price1").value,o=document.getElementById("units2").value,l=document.getElementById("Price2").value;""!=n&&""!=a&&""!=o&&""!=l&&getAverage(),""==document.getElementById(e).value?document.getElementById(t).innerHTML="Field is Required":document.getElementById(t).innerHTML=""}function getAverage(){if(""!=document.getElementById("units1").value)if(""!=document.getElementById("Price1").value)if(""!=document.getElementById("units2").value)if(""!=document.getElementById("Price2").value){var e=document.getElementById("units1").value,t=document.getElementById("Price1").value,n=document.getElementById("units2").value,a=document.getElementById("Price2").value,o=Number((e*t+n*a).toFixed(2)),l=+e+ +n,d=Number(((e*t+n*a)/l).toFixed(2));document.getElementById("investedamount1").innerHTML="<span>The amount invested in the 1st purchase: </span>  <span class='unit-amount'>"+(e*t).toLocaleString(intlLanguage)+"</span>",document.getElementById("investedamount2").innerHTML="<span>The amount invested in the 2nd purchase: </span> <span class='unit-amount'>"+(n*a).toLocaleString(intlLanguage)+"</span>",document.getElementById("result").innerHTML="<span>Total units </span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<bold>"+l+"</bold><br/><br/><span>Average Price</span> &nbsp;&nbsp;&nbsp;<bold>"+d.toLocaleString(intlLanguage)+"</bold><br/><br/><span>Total Amount</span> &nbsp;&nbsp;&nbsp;<bold>"+o.toLocaleString(intlLanguage)+"</bold>"}else document.getElementById("error4").innerHTML="Price required";else document.getElementById("error3").innerHTML="Units required";else document.getElementById("error2").innerHTML="Price required";else document.getElementById("error1").innerHTML="Units required"}function updateInput(e,t){var n=document.getElementById(t).value;document.getElementById(e).value=n}function clearFields(){document.getElementById("units1").value="",document.getElementById("Price1").value="",document.getElementById("units2").value="",document.getElementById("Price2").value="",document.getElementById("result").innerHTML="",document.getElementById("investedamount1").innerHTML="",document.getElementById("investedamount2").innerHTML=""}function activeSection(e){(isMobile()||window.innerWidth<768)&&(document.getElementById("sidebar").style.left="-500px")}function sipCalculator(){var e=parseInt(document.getElementById("investment").value),t=parseInt(document.getElementById("rateOfInterest").value),n=parseInt(document.getElementById("years").value),a=parseInt(document.getElementById("rateIncrease").value),o=t/12/100,l=12*n,d=0,r=0,i=e;a=a||0;for(var c=0;c<l;c++)d+=i,r+=i,d*=1+o,(c+1)%12==0&&(i*=1+a/100);var u=d-r;e&&t&&n&&(document.getElementById("im").innerHTML=Number(r.toFixed(2)).toLocaleString(intlLanguage),document.getElementById("tm").innerHTML=Number(d.toFixed(2)).toLocaleString(intlLanguage),document.getElementById("gm").innerHTML=Number(u.toFixed(2)).toLocaleString(intlLanguage),sipChart&&sipChart.destroy(),getSipChart(d.toFixed(2),r.toFixed(2),u.toFixed(2)))}function getSipChart(e,t,n){var a=document.getElementById("sipChart");sipChart=new Chart(a,{type:"pie",responsive:!0,data:{labels:["Expected Amount","Amount Invested","Total Gain"],datasets:[{label:"SIP",data:[e,t,n],borderWidth:1}]}})}function clearFields1(){document.getElementById("investment").value="",document.getElementById("rateOfInterest").value="",document.getElementById("rateIncrease").value="",document.getElementById("years").value="",document.getElementById("tm").innerHTML="0",document.getElementById("im").innerHTML="0",document.getElementById("gm").innerHTML="0",sipChart&&sipChart.destroy()}function clearFields2(){document.getElementById("loanAmount").value="",document.getElementById("interestRate").value="",document.getElementById("loanTerm").value="",document.getElementById("total-emi").innerHTML="0",document.getElementById("total-principal").innerHTML=0,document.getElementById("total-interest").innerHTML=0,document.getElementById("total-amount").innerHTML=0,emiChart&&emiChart.destroy()}function clearAllFields(e){e.forEach((e=>{const t=document.getElementById(e);t&&("INPUT"===t.tagName?t.value="":t.innerHTML="0")}))}function checkPercentage(){let e=Number(document.getElementById("percentageNumber").value),t=Number(document.getElementById("percentage").value),n=document.getElementById("percentageResult");if(""==e||""==t||0==e||0==t)return;let a=e/100*t;n.innerHTML=t+" Percentage(%) of "+e+" is = "+a.toFixed(2)}var emiChart,sipChart;function calculateEMI(){let e=Number(document.getElementById("loanAmount").value),t=Number(document.getElementById("interestRate").value/100/12),n=Number(document.getElementById("loanTerm").value),a=e*t*Math.pow(1+t,n)/(Math.pow(1+t,n)-1),o=a*n-e,l=o+e;e&&t&&n&&(document.getElementById("total-principal").textContent=""+Number(e.toFixed(0)).toLocaleString(intlLanguage),document.getElementById("total-emi").textContent=""+Number(a.toFixed(0)).toLocaleString(intlLanguage),document.getElementById("total-amount").textContent=""+Number(l.toFixed(0)).toLocaleString(intlLanguage),document.getElementById("total-interest").textContent=""+Number(o.toFixed(0)).toLocaleString(intlLanguage),emiChart&&emiChart.destroy(),getChart(e,o,l))}function getChart(e,t,n){var a=document.getElementById("myChart");emiChart=new Chart(a,{type:"pie",responsive:!0,data:{labels:["Principal","Total Interest","Total Amount"],datasets:[{label:"Loan breakup",data:[e,t,n],borderWidth:1}]}})}function calculateCAGR(){var e=parseFloat(document.getElementById("initialValue").value),t=parseFloat(document.getElementById("finalValue").value),n=parseFloat(document.getElementById("cagryears").value);if(!(isNaN(e)||isNaN(t)||isNaN(n))){var a=100*((t/e)**(1/n)-1);document.getElementById("cagr-result").innerHTML=a.toFixed(2)+"%"}}function calculateSWP(){var e=parseFloat(document.getElementById("swpInvestment").value),t=parseFloat(document.getElementById("monthlyWithdrawal").value),n=parseFloat(document.getElementById("annualInterestRate").value),a=parseFloat(document.getElementById("swpMonths").value);if(!(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(a))){for(var o=n/1200,l=e,d=0,r=0;r<a;r++)l=l*(1+o)-t,d+=t;document.getElementById("swp-result").innerHTML="Final value after "+a+" Months: "+l.toFixed(2)+"<br/><p>Total amount withdrawn: "+d.toFixed(2)+"</p>"}}function updateClock(){var e=new Date,t=e.getHours(),n=e.getMinutes(),a=e.getSeconds(),o=t>=12?"PM":"AM",l=(t=(t=t%12||12)<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)+":"+(a=a<10?"0"+a:a)+" "+o;document.getElementById("clock")&&(document.getElementById("clock").innerText=l)}function isMobile(){return/Android|webOS|iPhone|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function toggleDarkMode(){const e=document.querySelector("body");e.classList.toggle("dark-mode");const t=e.classList.contains("dark-mode");localStorage.setItem("darkMode",t)}setInterval(updateClock,1e3),document.getElementById("toggle-btn").addEventListener("click",(function(){var e=document.getElementById("sidebar");"0px"!=e.style.left?e.style.left="0px":e.style.left="-500px"}));const savedDarkMode=localStorage.getItem("darkMode");function openPhonePe(){window.location.href="phonepe://pay?pa=9008182348@ybl"}function copyToClipboard(e){navigator.clipboard.writeText(e).then((()=>{console.log("Text copied to clipboard: "+e)})).catch((e=>{console.error("Unable to copy text to clipboard: ",e)}))}async function loadContentBasedOnCountry(){try{const t=Intl.DateTimeFormat().resolvedOptions().timeZone;if("Asia/Calcutta"!=t){const t=document.querySelectorAll("[id='load-indian-ads']");for(var e=0;e<t.length;e++)t[e].classList.add("hide-world-content")}else if("Asia/Calcutta"===t){const t=document.querySelectorAll("[id='load-global-ads']");for(e=0;e<t.length;e++)t[e].classList.add("hide-india-content")}else console.error("Unknown country:",t)}catch(e){console.error("Error fetching location:",e)}}"true"===savedDarkMode&&(document.querySelector("body").classList.add("dark-mode"),document.getElementById("darkModeSwitch").checked=!0),document.getElementById("darkModeSwitch")&&document.getElementById("darkModeSwitch").addEventListener("change",toggleDarkMode),loadContentBasedOnCountry();const loadSnippet=async(e,t)=>{try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch snippet: ${n.statusText}`);const a=await n.text();document.getElementById(t).innerHTML=a;const o=document.querySelectorAll("#nav li"),l=document.getElementById("page-name").innerText.toLowerCase();o.forEach((function(e){e.title.toLowerCase()==l?e.classList.add("active"):e.classList.remove("active")}))}catch(e){console.error(e),document.getElementById(t).innerText="Error loading content."}},loadSnippets=async(e,t)=>{try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch snippet: ${n.statusText}`);const a=await n.text();document.getElementById(t).innerHTML=a}catch(e){console.error(e),document.getElementById(t).innerText="Error loading content."}};loadSnippet("menu.html","load-menu-dynamically"),loadSnippets("latestnews.html","load-scroll-news-section");const loadAds=async(e,t)=>{try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch snippet: ${n.statusText}`);const a=await n.text();document.querySelectorAll("."+t).forEach((function(e){e.innerHTML=a}))}catch(e){console.error(e)}};loadAds("banner-ads-desktop-india-option-one.html","load-indian-ads-option-one"),loadAds("banner-ads-desktop-global-option-one.html","load-global-ads-option-one");